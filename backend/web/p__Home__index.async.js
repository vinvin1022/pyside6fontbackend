(self.webpackChunk=self.webpackChunk||[]).push([[371],{5370:function(N,T,a){"use strict";N=a.nmd(N);var w=a(64599).default,b=a(52677).default,i={signal:1,propertyUpdate:2,init:3,idle:4,debug:5,invokeMethod:6,connectToSignal:7,disconnectFromSignal:8,setProperty:9,response:10},E=function(j,y,r){if(b(j)!=="object"||typeof j.send!="function"){console.error("The QWebChannel expects a transport object with a send function and onmessage callback property. Given is: transport: "+b(j)+", transport.send: "+b(j.send));return}var f=this;this.transport=j;var S={Date:function(e){function t(c){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){if(typeof e=="string"&&e.match(/^-?\d+-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:\.\d*)?([-+\u2212](\d{2}):(\d{2})|Z)?$/)){var t=new Date(e);if(!isNaN(t))return t}})};if(this.usedConverters=[],this.addConverter=function(e){typeof e=="string"?S.hasOwnProperty(e)?this.usedConverters.push(S[e]):console.error("Converter '"+e+"' not found"):typeof e=="function"?this.usedConverters.push(e):console.error("Invalid converter object type "+b(e))},Array.isArray(r)){var x=w(r),U;try{for(x.s();!(U=x.n()).done;){var n=U.value;this.addConverter(n)}}catch(e){x.e(e)}finally{x.f()}}else r!==void 0&&this.addConverter(r);this.send=function(e){typeof e!="string"&&(e=JSON.stringify(e)),f.transport.send(e)},this.transport.onmessage=function(e){var t=e.data;switch(typeof t=="string"&&(t=JSON.parse(t)),t.type){case i.signal:f.handleSignal(t);break;case i.response:f.handleResponse(t);break;case i.propertyUpdate:f.handlePropertyUpdate(t);break;default:console.error("invalid message received:",e.data);break}},this.execCallbacks={},this.execId=0,this.exec=function(e,t){if(!t){f.send(e);return}if(f.execId===Number.MAX_VALUE&&(f.execId=Number.MIN_VALUE),e.hasOwnProperty("id")){console.error("Cannot exec message with property id: "+JSON.stringify(e));return}e.id=f.execId++,f.execCallbacks[e.id]=t,f.send(e)},this.objects={},this.handleSignal=function(e){var t=f.objects[e.object];t?t.signalEmitted(e.signal,e.args):console.warn("Unhandled signal: "+e.object+"::"+e.signal)},this.handleResponse=function(e){if(!e.hasOwnProperty("id")){console.error("Invalid response message received: ",JSON.stringify(e));return}f.execCallbacks[e.id](e.data),delete f.execCallbacks[e.id]},this.handlePropertyUpdate=function(e){e.data.forEach(function(t){var c=f.objects[t.object];c?c.propertyUpdate(t.signals,t.properties):console.warn("Unhandled property update: "+t.object+"::"+t.signal)}),f.exec({type:i.idle})},this.debug=function(e){f.send({type:i.debug,data:e})},f.exec({type:i.init},function(e){for(var t=0,c=Object.keys(e);t<c.length;t++){var g=c[t];new h(g,e[g],f)}for(var p=0,u=Object.keys(f.objects);p<u.length;p++){var l=u[p];f.objects[l].unwrapProperties()}y&&y(f),f.exec({type:i.idle})})};function h(C,j,y){this.__id__=C,y.objects[C]=this,this.__objectSignals__={},this.__propertyCache__={};var r=this;this.unwrapQObject=function(n){var e=w(y.usedConverters),t;try{for(e.s();!(t=e.n()).done;){var c=t.value,g=c(n);if(g!==void 0)return g}}catch(d){e.e(d)}finally{e.f()}if(n instanceof Array)return n.map(function(d){return r.unwrapQObject(d)});if(!(n instanceof Object))return n;if(!n["__QObject*__"]||n.id===void 0){for(var p={},u=0,l=Object.keys(n);u<l.length;u++){var m=l[u];p[m]=r.unwrapQObject(n[m])}return p}var o=n.id;if(y.objects[o])return y.objects[o];if(!n.data){console.error("Cannot unwrap unknown QObject "+o+" without data.");return}var s=new h(o,n.data,y);return s.destroyed.connect(function(){y.objects[o]===s&&(delete y.objects[o],Object.keys(s).forEach(function(d){return delete s[d]}))}),s.unwrapProperties(),s},this.unwrapProperties=function(){for(var n=0,e=Object.keys(r.__propertyCache__);n<e.length;n++){var t=e[n];r.__propertyCache__[t]=r.unwrapQObject(r.__propertyCache__[t])}};function f(n,e){var t=n[0],c=n[1];r[t]={connect:function(p){if(typeof p!="function"){console.error("Bad callback given to connect to signal "+t);return}r.__objectSignals__[c]=r.__objectSignals__[c]||[],r.__objectSignals__[c].push(p),!e&&(t==="destroyed"||t==="destroyed()"||t==="destroyed(QObject*)"||r.__objectSignals__[c].length==1&&y.exec({type:i.connectToSignal,object:r.__id__,signal:c}))},disconnect:function(p){if(typeof p!="function"){console.error("Bad callback given to disconnect from signal "+t);return}r.__objectSignals__[c]=(r.__objectSignals__[c]||[]).filter(function(u){return u!=p}),!e&&r.__objectSignals__[c].length===0&&y.exec({type:i.disconnectFromSignal,object:r.__id__,signal:c})}}}function S(n,e){var t=r.__objectSignals__[n];t&&t.forEach(function(c){c.apply(c,e)})}this.propertyUpdate=function(n,e){for(var t=0,c=Object.keys(e);t<c.length;t++){var g=c[t],p=e[g];r.__propertyCache__[g]=this.unwrapQObject(p)}for(var u=0,l=Object.keys(n);u<l.length;u++){var m=l[u];S(m,n[m])}},this.signalEmitted=function(n,e){S(n,this.unwrapQObject(e))};function x(n){var e=n[0],t=n[1],c=e[e.length-1]===")"?t:e;r[e]=function(){for(var g=[],p,u,l=0;l<arguments.length;++l){var m=arguments[l];typeof m=="function"?p=m:g.push(m)}var o;return!p&&typeof Promise=="function"&&(o=new Promise(function(s,d){p=s,u=d})),y.exec({type:i.invokeMethod,object:r.__id__,method:c,args:g},function(s){if(s!==void 0){var d=r.unwrapQObject(s);p&&p(d)}else u&&u()}),o}}function U(n){var e=n[0],t=n[1],c=n[2];r.__propertyCache__[e]=n[3],c&&(c[0]===1&&(c[0]=t+"Changed"),f(c,!0)),Object.defineProperty(r,t,{configurable:!0,get:function(){var p=r.__propertyCache__[e];return p===void 0&&console.warn('Undefined value in property cache for property "'+t+'" in object '+r.__id__),p},set:function(p){if(p===void 0){console.warn("Property setter for "+t+" called with undefined value!");return}r.__propertyCache__[e]=p;var u=p;y.exec({type:i.setProperty,object:r.__id__,property:e,value:u})}})}j.methods.forEach(x),j.properties.forEach(U),j.signals.forEach(function(n){f(n,!1)}),Object.assign(r,j.enums)}h.prototype.toJSON=function(){return this.__id__===void 0?{}:{id:this.__id__,"__QObject*__":!0}},b(N)==="object"&&(N.exports={QWebChannel:E})},17153:function(N,T,a){"use strict";a.r(T),a.d(T,{default:function(){return s}});var w=a(26058),b=a(71230),i=a(25593),E=a(67294),h={title:"title___xIGPY"},C=a(85893),j=function(v){var O=v.name;return(0,C.jsx)(w.Z,{children:(0,C.jsx)(b.Z,{children:(0,C.jsxs)(i.Z.Title,{level:3,className:h.title,children:["\u6B22\u8FCE\u4F7F\u7528 ",(0,C.jsx)("strong",{children:O})," \uFF01"]})})})},y=j,r=y;function f(d){return d.trim()}var S=a(6110),x=a(94272),U={container:"container___ulS8A"},n=a(54447),e=a(5370),t=a.n(e),c=a(18580),g=c.Z.UserController,p=g.addUser,u=g.queryUserList,l=g.deleteUser,m=g.modifyUser,o=function(){var v=(0,x.useModel)("global"),O=v.name,Q=t().QWebChannel;console.log(t()),(0,E.useEffect)(function(){new Q(qt.webChannelTransport,function(I){window.pybridge=I.objects.pybridge,window.pybridge.say_hello("hi \u4F60\u597D\uFF01")}),window.receiveFromPython=function(I){alert("Python \u901A\u77E5\u6765\u4E86\uFF1A"+I)},console.log(window.pybridge)},[]);var A=function(){window.pybridge.from_js(Math.random()+"\u524D\u7AEF\u4E0A\u7EBF\u5566\uFF01"),u({},{}).then(function(P){console.log(P),alert(P.message)}).catch(function(P){alert(P)})};return(0,C.jsx)(S._z,{ghost:!0,children:(0,C.jsxs)("div",{className:U.container,children:[(0,C.jsx)(r,{name:f(O)}),(0,C.jsx)("img",{src:n,onClick:A})]})})},s=o},18580:function(N,T,a){"use strict";a.d(T,{Z:function(){return p}});var w={};a.r(w),a.d(w,{addUser:function(){return S},deleteUser:function(){return c},getUserDetail:function(){return U},modifyUser:function(){return e},queryUserList:function(){return r}});var b=a(15009),i=a.n(b),E=a(97857),h=a.n(E),C=a(99289),j=a.n(C),y=a(94272);function r(u,l){return f.apply(this,arguments)}function f(){return f=j()(i()().mark(function u(l,m){return i()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return console.log("options: ".concat(m)),s.abrupt("return",(0,y.request)("/api/hello",h()({method:"GET",params:h()({},l)},m||{})));case 2:case"end":return s.stop()}},u)})),f.apply(this,arguments)}function S(u,l){return x.apply(this,arguments)}function x(){return x=j()(i()().mark(function u(l,m){return i()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,y.request)("/api/v1/user",h()({method:"POST",headers:{"Content-Type":"application/json"},data:l},m||{})));case 1:case"end":return s.stop()}},u)})),x.apply(this,arguments)}function U(u,l){return n.apply(this,arguments)}function n(){return n=j()(i()().mark(function u(l,m){var o;return i()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return o=l.userId,d.abrupt("return",(0,y.request)("/api/v1/user/".concat(o),h()({method:"GET",params:h()({},l)},m||{})));case 2:case"end":return d.stop()}},u)})),n.apply(this,arguments)}function e(u,l,m){return t.apply(this,arguments)}function t(){return t=j()(i()().mark(function u(l,m,o){var s;return i()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return s=l.userId,v.abrupt("return",(0,y.request)("/api/v1/user/".concat(s),h()({method:"PUT",headers:{"Content-Type":"application/json"},params:h()({},l),data:m},o||{})));case 2:case"end":return v.stop()}},u)})),t.apply(this,arguments)}function c(u,l){return g.apply(this,arguments)}function g(){return g=j()(i()().mark(function u(l,m){var o;return i()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return o=l.userId,d.abrupt("return",(0,y.request)("/api/v1/user/".concat(o),h()({method:"DELETE",params:h()({},l)},m||{})));case 2:case"end":return d.stop()}},u)})),g.apply(this,arguments)}var p={UserController:w}},26058:function(N,T,a){"use strict";a.d(T,{Z:function(){return m}});var w=a(74902),b=a(67294),i=a(93967),E=a.n(i),h=a(98423),C=a(53124),j=a(82401),y=a(50344),r=a(23342);function f(o,s,d){return typeof d=="boolean"?d:o.length?!0:(0,y.Z)(s).some(O=>O.type===r.Z)}var S=a(24793),x=function(o,s){var d={};for(var v in o)Object.prototype.hasOwnProperty.call(o,v)&&s.indexOf(v)<0&&(d[v]=o[v]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var O=0,v=Object.getOwnPropertySymbols(o);O<v.length;O++)s.indexOf(v[O])<0&&Object.prototype.propertyIsEnumerable.call(o,v[O])&&(d[v[O]]=o[v[O]]);return d};function U({suffixCls:o,tagName:s,displayName:d}){return v=>b.forwardRef((Q,A)=>b.createElement(v,Object.assign({ref:A,suffixCls:o,tagName:s},Q)))}const n=b.forwardRef((o,s)=>{const{prefixCls:d,suffixCls:v,className:O,tagName:Q}=o,A=x(o,["prefixCls","suffixCls","className","tagName"]),{getPrefixCls:I}=b.useContext(C.E_),P=I("layout",d),[F,G,H]=(0,S.ZP)(P),L=v?`${P}-${v}`:P;return F(b.createElement(Q,Object.assign({className:E()(d||L,O,G,H),ref:s},A)))}),e=b.forwardRef((o,s)=>{const{direction:d}=b.useContext(C.E_),[v,O]=b.useState([]),{prefixCls:Q,className:A,rootClassName:I,children:P,hasSider:F,tagName:G,style:H}=o,L=x(o,["prefixCls","className","rootClassName","children","hasSider","tagName","style"]),V=(0,h.Z)(L,["suffixCls"]),{getPrefixCls:W,className:D,style:B}=(0,C.dj)("layout"),Z=W("layout",Q),J=f(v,P,F),[$,z,X]=(0,S.ZP)(Z),Y=E()(Z,{[`${Z}-has-sider`]:J,[`${Z}-rtl`]:d==="rtl"},D,A,I,z,X),K=b.useMemo(()=>({siderHook:{addSider:M=>{O(R=>[].concat((0,w.Z)(R),[M]))},removeSider:M=>{O(R=>R.filter(k=>k!==M))}}}),[]);return $(b.createElement(j.V.Provider,{value:K},b.createElement(G,Object.assign({ref:s,className:Y,style:Object.assign(Object.assign({},B),H)},V),P)))}),t=U({tagName:"div",displayName:"Layout"})(e),c=U({suffixCls:"header",tagName:"header",displayName:"Header"})(n),g=U({suffixCls:"footer",tagName:"footer",displayName:"Footer"})(n),p=U({suffixCls:"content",tagName:"main",displayName:"Content"})(n);var u=t;const l=u;l.Header=c,l.Footer=g,l.Content=p,l.Sider=r.Z,l._InternalSiderContext=r.D;var m=l},64599:function(N,T,a){var w=a(96263);function b(i,E){var h=typeof Symbol!="undefined"&&i[Symbol.iterator]||i["@@iterator"];if(!h){if(Array.isArray(i)||(h=w(i))||E&&i&&typeof i.length=="number"){h&&(i=h);var C=0,j=function(){};return{s:j,n:function(){return C>=i.length?{done:!0}:{done:!1,value:i[C++]}},e:function(x){throw x},f:j}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var y=!0,r=!1,f;return{s:function(){h=h.call(i)},n:function(){var x=h.next();return y=x.done,x},e:function(x){r=!0,f=x},f:function(){try{!y&&h.return!=null&&h.return()}finally{if(r)throw f}}}}N.exports=b,N.exports.__esModule=!0,N.exports.default=N.exports}}]);
